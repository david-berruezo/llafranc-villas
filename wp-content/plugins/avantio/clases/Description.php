<?phpclass Description{    protected $table      = 'dynamic_taxonomy';    protected $primaryKey = 'id';    protected $allowedFields = ['id', 'language','text_title'];    # wordpress    private $post_id;    public function insertDescriptions($xml,$avantio_credentials)    {        # get translations by post_id        # connect to database        $wpdb = Database::getInstance();        $inserts = array(); $services = array(); $update = array();        $counter_property = 0;        //$ids_propiedades = array(360663 , 360662 , 360661 , 60505);        foreach($xml->Accommodation as $accommodation){            // if($counter_property < 2){                $avantio_accomodations = intval($accommodation->AccommodationId);                if(get_post_status($avantio_accomodations)){                    $my_post_translation = pll_get_post_translations($avantio_accomodations);                    foreach ($accommodation->InternationalizedItem as $international) {                        $language = (string)$international->Language;                        if (in_array($language, $avantio_credentials["ACTIVED_LANGUAGES"])) {                            $id_post_language = $my_post_translation[$language];                            //echo "id_post_language " .$id_post_language. "<br>";                            $description = (string)$international->Description;                            $description = trim(strip_tags($description));                            $booking_url = (string)$international->BookingURL;                            # insert and update                            // sanitize_title($text_title);                            $new_status = 'publish';                            $current_user = wp_get_current_user();                            $new_user_id = $current_user->ID;                            if (get_post_status($id_post_language)) {                                $post = array(                                    'ID' => $id_post_language,                                    'post_content' => $description                                );                                $this->post_id = wp_update_post($post);                            }// end if                        }                    }                }// end if                /*                foreach ($accommodation->InternationalizedItem as $international) {                    $language = (string)$international->Language;                    if (in_array($language, $avantio_credentials["ACTIVED_LANGUAGES"])) {                        $id_post_language = $my_post_translation[$language];                        $description = (string)$international->Description;                        $description = trim(strip_tags($description));                        $booking_url = (string)$international->BookingURL;                        # insert and update                        // sanitize_title($text_title);                        $new_status = 'publish';                        $current_user = wp_get_current_user();                        $new_user_id = $current_user->ID;                        if (get_post_status($id_post_language) && in_array($id_post_language , $ids_propiedades)) {                            //echo "actualiza post<br>";                            $post = array(                                'ID' => $avantio_accomodations,                                'post_content' => $description                            );                            $this->post_id = wp_update_post($post);                        } else if(in_array($id_post_language , $ids_propiedades)) {                            //echo "inserta post<br>";                            $post = array(                                'import_id' => $avantio_accomodations,                                'post_title' => "nuevo post",                                'post_status' => $new_status,                                'post_type' => 'estate_property',                                'post_author' => $new_user_id,                                'post_content' => ""                            );                            $this->post_id = wp_insert_post($post);                        }// end if                    }// end if                }// end foreach                */            //}// end if            $counter_property++;        }// end foreach    } // end function}// end class?>