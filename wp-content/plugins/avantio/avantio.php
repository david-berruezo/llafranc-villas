<?php/** * Plugin Name: Avantio * Plugin URI: http://www.davidberruezo.com/ * Description: This plugin connect with avantio vrms webservice * Author: David Berruezo * Version: 0.1 * Author URI: http://www.davidberruezo.com/ */// Make sure we don't expose any info if called directlyif ( !function_exists( 'add_action' ) ) {    echo 'Hi there!  I\'m just a plugin, not much I can do when called directly.';    exit;}// end if# constantsdefine( 'AVANTIO_VERSION', '4.1.9' );define( 'AVANTIO__MINIMUM_WP_VERSION', '4.0' );define( 'AVANTIO__PLUGIN_DIR', plugin_dir_path( __FILE__ ) );define( 'AVANTIO_DELETE_LIMIT', 100000 );# controllerinclude( AVANTIO__PLUGIN_DIR . 'clases/Avantio.php' );# models avantioinclude( AVANTIO__PLUGIN_DIR . 'clases/Accomodation.php' );include( AVANTIO__PLUGIN_DIR . 'clases/Availability.php' );include( AVANTIO__PLUGIN_DIR . 'clases/Description.php' );include( AVANTIO__PLUGIN_DIR . 'clases/GeographicArea.php' );include( AVANTIO__PLUGIN_DIR . 'clases/Kind.php' );include( AVANTIO__PLUGIN_DIR . 'clases/OcuppationRule.php' );include( AVANTIO__PLUGIN_DIR . 'clases/Picture.php' );include( AVANTIO__PLUGIN_DIR . 'clases/PriceModify.php' );include( AVANTIO__PLUGIN_DIR . 'clases/Rate.php' );include( AVANTIO__PLUGIN_DIR . 'clases/Service.php' );include( AVANTIO__PLUGIN_DIR . 'clases/Entorno.php' );include( AVANTIO__PLUGIN_DIR . 'clases/Piscina.php' );# wordpress create taxonomies and custom post typeinclude( AVANTIO__PLUGIN_DIR . 'clases/CreatePostsAndTaxonomies.php' );# wordpress taxonomiesinclude( AVANTIO__PLUGIN_DIR . 'clases/KindAlquiler.php' );include( AVANTIO__PLUGIN_DIR . 'clases/Status.php' );include( AVANTIO__PLUGIN_DIR . 'clases/Feature.php' );# languageinclude( AVANTIO__PLUGIN_DIR . 'clases/Language.php' );# app librariesinclude( AVANTIO__PLUGIN_DIR . 'clases/CurlRequest.php' );# dbinclude( AVANTIO__PLUGIN_DIR . 'clases/DB.php' );# funcionesinclude( AVANTIO__PLUGIN_DIR . 'clases/funciones.php' );// php libraries// use ZipArchive;function delete_option_avantio(){    delete_option( 'avantio' );}function load_plugin() {    if(get_option('avantio') != 'initialised'){        //echo "<script>alert('llamamos al a funci√≥n');</script>";        add_option( 'avantio', 'initialised' );        // your code here        //$avantio = new Avantio("all");    }else{        // echo "<script>alert('initialised');</script>";       $avantio = new Avantio("all");    }}// end function//add_action( 'plugins_loaded', 'load_plugin' );add_action( 'init', 'load_plugin' );//add_action('plugins_loaded', 'load_plugin');?>